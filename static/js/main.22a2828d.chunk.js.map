{"version":3,"sources":["components/AccountForm.js","UserContext.js","components/Header.js","components/Landing.js","utils.js","components/Post.js","static/userPhotos/userPhoto0.svg","static/userPhotos/userPhoto1.svg","static/userPhotos/userPhoto2.svg","static/userPhotos/userPhoto3.svg","static/userPhotos/userPhoto4.svg","components/PostsList.js","components/CreatePost.js","components/Comment.js","components/PostAndComments.js","App.js","index.js"],"names":["ACCOUNT_POST","gql","AccountForm","useState","username","setUsername","password","setPassword","email","setEmail","isRegister","setIsRegister","handleChange","e","funct","target","value","useMutation","onCompleted","data","localStorage","setItem","postUser","jwt","window","location","href","className","onSubmit","preventDefault","formBody","variables","htmlFor","type","name","placeholder","onChange","required","id","onClick","UserContext","createContext","Header","User","useContext","process","hrefString","removeItem","Landing","timeCalculator","timeCreated","timeDelta","Date","now","ONE_DAY_IN_THOUSANDTHS_SECOND","ONE_HOUR_IN_THOUSANDTHS_SECOND","roundedTimeDelta","Math","floor","longDateTimeString","createdAt","parseInt","toLocaleString","timeZone","dateStyle","timeStyle","VOTE_PUT","POST_DELETE","PUT_POST","Post","postDetails","isCommentSection","userVote","vote","voteValue","setVoteValue","voteSum","isEditMode","setIsEditMode","title","editTitle","setEditTitle","description","editDescr","setEditDescr","setTitle","descr","setDescr","viewerUser","putVote","putPost","deletePost","checked","post_id","_id","undefined","class","creator","form","rows","Provider","style","verticalAlign","confirm","GET_POSTS","PostsList","props","useParams","reqParams","useQuery","loading","error","userPhotoIndex","intNum","console","log","numMod","UserPhotoSelect","LETTERTABLE","a","b","c","d","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","toLowerCase","sum","length","charAt","ParseUsernametoInt","photoArray","userPhoto0","userPhoto1","userPhoto2","userPhoto3","userPhoto4","message","placeHolder","onFocus","getPosts","map","post","src","alt","width","height","POST_POST","CreatePost","setDescription","creatorUser","postPost","Comment","commentDetails","content","POST_COMMENT","PostAndComments","commentList","setCommentList","newComment","setNewComment","comments","commentData","postComment","comment","App","exact","path","httpLink","createHttpLink","uri","token","getItem","authLink","setContext","_","headers","authorization","user","decode","client","ApolloClient","link","concat","cache","InMemoryCache","ReactDOM","render","ApolloProvider","document","getElementById"],"mappings":"utBAGMA,EAAeC,YAAH,iPAqEHC,EA3DK,WAEhB,MAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA0BJ,mBAAS,IAAnC,mBAAOK,EAAP,KAAcC,EAAd,KACA,EAAoCN,oBAAS,GAA7C,mBAAOO,EAAP,KAAmBC,EAAnB,KACMC,EAAe,SAACC,EAAGC,GAErBA,EAAMD,EAAEE,OAAOC,QAGnB,EAAmBC,YAAYjB,EAAc,CAACkB,YAAa,SAAAC,GAEvDC,aAAaC,QAAQ,YAAYF,EAAKG,SAASC,KAC/CC,OAAOC,SAASC,KAAK,kBAHlBJ,EAAP,oBAqBA,OACI,sBAAMK,UAAU,cAAcC,SAfjB,SAACf,GAEdA,EAAEgB,iBACF,IAAIC,EAAW,CAAC,SAAW1B,EAAS,SAAWE,GAC3CI,IACAoB,EAAStB,MAAQA,GAErBc,EAAS,CAAES,UAAWD,KAQtB,SACI,sBAAKH,UAAU,cAAf,UACI,+BAAKjB,EAAW,WAAW,QAA3B,OAEA,sBAAKiB,UAAU,WAAf,UACI,uBAAOK,QAAQ,WAAf,uBACA,uBAAOL,UAAU,YAAYM,KAAK,WAAWC,KAAK,WAAWC,YAAY,iBAAiBnB,MAAOZ,EAAUgC,SAAU,SAACvB,GAAD,OAAMD,EAAaC,EAAGR,IAAcgC,UAAQ,OAGrK,sBAAKV,UAAU,WAAf,UACI,uBAAOK,QAAQ,WAAf,uBACA,uBAAOL,UAAU,YAAYM,KAAK,WAAWC,KAAK,WAAWC,YAAY,iBAAiBnB,MAAOV,EAAU8B,SAAU,SAACvB,GAAD,OAAMD,EAAaC,EAAGN,IAAc8B,UAAQ,OAGpK3B,GAAc,sBAAKiB,UAAU,WAAf,UACX,uBAAOK,QAAQ,QAAf,oBACA,uBAAOL,UAAU,YAAYM,KAAK,QAAQK,GAAG,QAAQJ,KAAK,QAAQC,YAAY,cAAcnB,MAAOR,EAAO4B,SAAU,SAACvB,GAAD,OAAMD,EAAaC,EAAGJ,IAAW4B,UAAQ,OAGjK,uBAAOV,UAAU,aAAaM,KAAK,SAASC,KAAMxB,EAAW,WAAW,QAASM,MAAON,EAAW,WAAW,UAC9G,wBAAQiB,UAAU,iCAAiCY,QA1B1C,SAAC1B,GAClBA,EAAEgB,iBACFlB,GAAeD,IAwBP,SAA2EA,EAAW,cAAc,yBCjEvG8B,EAAcC,wBAAc,M,iBC+C1BC,G,OA3CA,WAIX,IAAMC,EAAOC,qBAAWJ,GAmBxB,OACI,mCACE,sBAAKb,UAAU,qBAAqBY,QAPpB,SAAC1B,GAEnBA,EAAEgB,iBACFL,OAAOC,SAASC,KAAKmB,gBAInB,UACI,qBAAKP,GAAG,WAAR,SAAmB,mBAAGA,GAAG,aAAN,wBACnB,qBAAKX,UAAU,OAAf,SAAsB,cAAC,IAAD,MACtB,qBAAKA,UAAU,YAAf,SAA2B,cAAC,IAAD,MAC3B,4CAGM,OAARgB,GAAiB,sBAAKhB,UAAU,oBAAf,UACf,sBAAKA,UAAU,kBAAkBY,QArBlB,SAAC1B,GAEtBA,EAAEgB,iBACF,IAAIiB,EAAYD,qBAAkCF,EAAKvC,SACvDoB,OAAOC,SAASC,KAAKoB,GAiBf,UACE,6BAAI,cAAC,IAAD,MACJ,6BAAKH,EAAKvC,cAEZ,oBAAIuB,UAAU,SAASY,QA/BlB,SAAC1B,GAEZO,aAAa2B,WAAW,aACxBvB,OAAOC,SAASC,KAAKmB,gBA4Bf,SAAwC,cAAC,IAAD,cCpBvCG,G,OAjBC,WAEZ,OACI,qCACI,cAAC,EAAD,IACA,sBAAKrB,UAAU,cAAf,UACI,sBAAKA,UAAU,kBAAf,UACI,oDACA,wLACA,yJAEJ,qBAAKA,UAAU,kBAAf,SAAiC,cAAC,EAAD,c,yCCQ3CsB,EAAiB,SAACC,GAEpB,IAAIC,EAAYC,KAAKC,MAAQH,EACvBI,EAAgC,MAChCC,EAAiC,KACvC,GAAIJ,GAAaG,EAA+B,CAC5C,IAAIE,EAAmBC,KAAKC,MAAMP,EAAYG,GAC9C,MACU,GAAN,OAAUE,EADU,GAApBA,EACA,WAEA,aAGH,GAAIL,GAAaI,EAClB,MAAO,cAGP,IAAIC,EAAmBC,KAAKC,MAAMP,EAAYI,GAC9C,MACU,GAAN,OAAUC,EADU,GAApBA,EACA,YAEA,eAKNG,EAAqB,SAACC,GAIxB,OAFoB,IAAIR,KAAKS,SAASD,IAEjBE,eAAe,QADpB,CAAEC,SAAS,mBAAoBC,UAAU,OAAOC,UAAU,UC1CxEC,G,OAAWjE,YAAH,oNAORkE,EAAclE,YAAH,uJAOXmE,EAAWnE,YAAH,yNA4ICoE,EApIF,SAAC,GAAqC,IAApCC,EAAmC,EAAnCA,YAAaC,EAAsB,EAAtBA,iBAIxB,EAAkCpE,mBAASmE,EAAYE,SAASC,MAAhE,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA8BxE,mBAASmE,EAAYM,QAAQN,EAAYE,SAASC,MAAhF,mBAAOG,EAAP,KAGA,GAHA,KAGoCzE,oBAAS,IAA7C,mBAAO0E,EAAP,KAAmBC,EAAnB,KAGA,EAAkC3E,mBAASmE,EAAYS,OAAvD,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAkC9E,mBAASmE,EAAYY,aAAvD,mBAAOC,EAAP,KAAkBC,EAAlB,KAGA,EAA0BjF,mBAASmE,EAAYS,OAA/C,mBAAOA,EAAP,KAAcM,EAAd,KACA,EAA0BlF,mBAASmE,EAAYY,aAA/C,mBAAOI,EAAP,KAAcC,EAAd,KAEM3E,EAAe,SAACC,EAAGC,GACrBA,EAAMD,EAAEE,OAAOC,QAIbwE,EAAa5C,qBAAWJ,GAE9B,EAAkBvB,YAAYiD,GAAvBuB,EAAP,oBAEA,EAAkBxE,YAAYmD,GAAvBsB,EAAP,oBAEA,EAAqBzE,YAAYkD,EAAa,CAACjD,YAAa,SAAAC,GACxDK,OAAOC,SAASC,KAAK,OADlBiE,EAAP,oBAmDA,OACI,sBAAKhE,UAAU,UAAf,UACI,sBAAKA,UAAU,WAAf,UACI,wBAAOA,UAAU,YAAjB,UACI,uBAAOM,KAAK,QAAQN,UAAU,wBAAwBO,KAAK,OAAOlB,MAAO0D,EAAWkB,QAAuB,GAAblB,EAAiBnC,QAnD5G,SAAC1B,GAEI,GAAb6D,GACHC,EAAa,GACbc,EAAQ,CAAE1D,UAAW,CAAC3B,SAASoF,EAAWpF,SAASyF,QAAQvB,EAAYwB,IAAIrB,KAAK,MACzD,GAAbC,IACNC,EAAa,GACbc,EAAQ,CAAE1D,UAAW,CAAC3B,SAASoF,EAAWpF,SAASyF,QAAQvB,EAAYwB,IAAIrB,KAAK,SA6C5E,oBAAI9C,UAA0B,IAAd+C,EAAoB,mBAAeqB,EAAnD,SAA8D,cAAC,IAAD,SAElE,6BAAKnB,EAAUF,IALnB,IAMI,wBAAOsB,MAAM,YAAb,UACI,uBAAO/D,KAAK,QAAQN,UAAU,YAAYO,KAAK,OAAOlB,MAAO0D,EAAWkB,SAAwB,GAAdlB,EAAkBnC,QA9C/F,SAAC1B,IAEG,GAAd6D,GACCC,GAAc,GACdc,EAAQ,CAAE1D,UAAW,CAAC3B,SAASoF,EAAWpF,SAASyF,QAAQvB,EAAYwB,IAAIrB,MAAM,OAC7D,GAAdC,IACNC,EAAa,GACbc,EAAQ,CAAE1D,UAAW,CAAC3B,SAASoF,EAAWpF,SAASyF,QAAQvB,EAAYwB,IAAIrB,KAAK,KAChF5D,EAAEE,OAAO6E,SAAS,MAuCd,oBAAIjE,WAA2B,IAAf+C,EAAoB,qBAAiBqB,EAArD,SAAgE,cAAC,IAAD,YAGxE,sBAAKpE,UAAU,cAAf,UACI,sBAAKA,UAAU,qBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,4CAAc,mBAAGA,UAAU,UAAUY,QA7BhC,SAAC1B,GAEtBA,EAAEgB,iBACF,IAAIiB,EAAYD,qBAAkCyB,EAAY2B,QAC9DzE,OAAOC,SAASC,KAAKoB,GAyBS,SAAmDwB,EAAY2B,aAC7E,mBAAGlB,MAAOpB,EAAmBW,EAAYV,WAAzC,SAAsDX,EAAeqB,EAAYV,gBAEnFiB,EACE,uBAAO7D,MAAOgE,EAAWrD,UAAU,sBAAsBS,SAAU,SAACvB,GAAD,OAAMD,EAAaC,EAAGoE,IAAe5C,UAAQ,IAAK,oBAAIV,UAAU,YAAd,SAA2BoD,IAElJR,GAAmB,yCACfM,EAAc,0BAAUqB,KAAK,eAAeC,KAAK,IAAIxE,UAAU,6BAA6BX,MAAOmE,EAAW/C,SAAU,SAACvB,GAAD,OAAMD,EAAaC,EAAGuE,IAAe/C,UAAQ,IACvK,mBAAGV,UAAU,kBAAb,SAAgC2D,UAKxC,sBAAK3D,UAAU,aAAf,WACO4C,GACC,qBAAI5C,UAAU,cAAcY,QArCvB,SAAC1B,GAEtBA,EAAEgB,iBACF,IAAIiB,EAAYD,qBAAiCyB,EAAYwB,IAC7DtE,OAAOC,SAASC,KAAKoB,GAiCL,UACI,cAAC,IAAYsD,SAAb,CAAsBpF,MAAO,CAAEqF,MAAO,CAAEC,cAAe,WAAvD,SACI,cAAC,IAAD,MAFR,eAMFd,EAAWpF,UAAUkE,EAAY2B,SAAgC,SAArBT,EAAWpF,WAAqB,sBAAKuB,UAAU,mBAAf,UACxE4C,GACE,qBAAK5C,UAAU,UAAUY,QAAS,SAAC1B,GAAD,OAAOiE,GAAgBD,IAAzD,SACMA,EAAe,oBAAIlD,UAAU,WAAd,0BAA6C,cAAC,IAAD,CAAQA,UAAU,eAGxF,qBAAKA,UAAU,YAAYY,QArE1B,SAAC1B,GAEfW,OAAO+E,QAAQ,kDACdZ,EAAW,CAAE5D,UAAW,CAAC8D,QAAQvB,EAAYwB,OAC7CtE,OAAOC,SAASC,KAAK,iBAiET,SAAkD,cAAC,IAAD,CAASC,UAAU,mBAEvEkD,GAAe,qBAAKlD,UAAU,UAAUY,QAhEtC,SAAC1B,GACjB6E,EAAQ,CAAE3D,UAAW,CAAC8D,QAAQvB,EAAYwB,IAAIf,MAAMC,EAAUE,YAAYC,KAC1EL,GAAc,GACdO,EAASL,GACTO,EAASJ,IA4DoB,SAA+C,0DC9JrE,MAA0B,uCCA1B,MAA0B,uCCA1B,MAA0B,uCCA1B,MAA0B,uCCA1B,MAA0B,uCCkBnCqB,EAAYvG,YAAH,4VAiEAwG,EAlDG,SAACC,GAGf,IAAMpE,EAAOqE,cAAPrE,GAEAsE,EAAY,CAAExG,SADDwC,qBAAWJ,GACUpC,UACpCkC,IACAsE,EAAUX,QAAU3D,GAGxB,MAAiCuE,YAASL,EAAW,CACjDzE,UAAW6E,IADPE,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,MAAO5F,EAAxB,EAAwBA,KASpB6F,EAAiB,EACjB1E,IACA0E,EPtCgB,SAACC,GAErBC,QAAQC,IAAIF,GACZ,IAAIG,EAASH,EAAS,EAEtB,OADAC,QAAQC,IAAIC,GACLA,EOiCcC,CPpDE,SAACjH,GAGxB,IAAMkH,EAAc,CAACC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAE7G,EAAE,EAAE8G,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAGC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GACpL3I,EAAWA,EAAS4I,cAEpB,IADA,IAAIC,EAAM,EACDnB,EAAI,EAAGA,EAAI1H,EAAS8I,OAAQpB,IAC7BR,EAAYlH,EAAS+I,OAAOrB,MAC5BmB,GAAO3B,EAAYlH,EAAS+I,OAAOrB,KAG3C,OAAOmB,EOyC8BG,CAAmB9G,KAExD,IAAM+G,EAAa,CAACC,EAAWC,EAAWC,EAAWC,EAAWC,GAChE,OAAI5C,EAAgB,aAChBC,EAAa,UAAN,OAAiBA,EAAM4C,SAG9B,sBAAKhI,UAAYW,GAAK,gBAAtB,UACI,sBAAKX,UAAU,WAAf,UACMW,GAAO,sBAAKX,UAAU,mCAAf,UACL,cAAC,IAAD,CAAWA,UAAU,eACrB,+BAAKW,EAAL,oBAEDA,GAAO,sBAAKX,UAAU,iBAAf,UACN,cAAC,IAAD,CAAWA,UAAU,eACrB,uBAAOA,UAAU,kBAAkBM,KAAK,OAAO2H,YAAa,kBAAmBC,QAtBvE,SAAChJ,GACrBA,EAAEgB,iBACFL,OAAOC,SAASC,KAAKmB,yBAqBT,cAAC,IAAD,CAAclB,UAAU,kBAE3BR,EAAK2I,SAASC,KAAI,SAAAC,GAAI,OAAI,cAAC,EAAD,CAAM1F,YAAa0F,UAEhD1H,GAAO,sBAAKX,UAAU,WAAf,UACP,qBAAKsI,IAAKZ,EAAWrC,GAAiBkD,IAAI,uCAAuCvI,UAAU,YAAYwI,MAAM,MAAMC,OAAO,QAC1H,+BAAK9H,EAAL,uBCnER+H,G,OAAYpK,YAAH,gOAgDAqK,EAxCI,WAIf,MAA0BnK,mBAAS,IAAnC,mBAAO4E,EAAP,KAAcM,EAAd,KACA,EAAsClF,mBAAS,IAA/C,mBAAO+E,EAAP,KAAoBqF,EAApB,KACMC,EAAc5H,qBAAWJ,GAEzB5B,EAAe,SAACC,EAAGC,GACrBA,EAAMD,EAAEE,OAAOC,QAGnB,EAAmBC,YAAYoJ,EAAW,CAACnJ,YAAa,SAAAC,GAEpD,IAAI2B,EAAaD,qBAAoC1B,EAAKsJ,SAAS3E,IACnEtE,OAAOC,SAASC,KAAKoB,KAHlB2H,EAAP,oBAYA,OACI,qBAAK9I,UAAU,YAAf,SACI,sBAAMA,UAAU,OAAOW,GAAG,eAAeV,SARhC,SAACf,GACdA,EAAEgB,iBACF,IAAIC,EAAW,CAAC,MAAQiD,EAAM,YAAcG,EAAY,QAAUsF,EAAYpK,UAC9EqK,EAAS,CAAE1I,UAAWD,KAKlB,SACI,sBAAKH,UAAU,YAAf,UACQ,oBAAIW,GAAG,YAAP,2BACA,uBAAOX,UAAU,oBAAoBK,QAAQ,YAA7C,oBACA,uBAAOC,KAAK,OAAOC,KAAK,YAAYP,UAAU,sBAAsBQ,YAAY,oBAAoBnB,MAAO+D,EAAO3C,SAAU,SAACvB,GAAD,OAAMD,EAAaC,EAAGwE,IAAWhD,UAAQ,IACrK,uBAAOV,UAAU,oBAAoBK,QAAQ,mBAA7C,0BACA,0BAAUkE,KAAK,eAAeC,KAAK,IAAIxE,UAAU,6BAA6BO,KAAK,mBAAmBC,YAAY,0BAA0BnB,MAAOkE,EAAa9C,SAAU,SAACvB,GAAD,OAAMD,EAAaC,EAAG0J,IAAiBlI,UAAQ,IAC7N,yBAAQV,UAAU,SAASuE,KAAK,eAAejE,KAAK,SAApD,0BAA2E,cAAC,IAAD,e,UCvBhFyI,I,OAtBC,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,eASRnF,EAAa5C,qBAAWJ,GAE9B,OACI,sBAAKb,UAAWgJ,EAAe1E,UAAUT,EAAWpF,SAAS,uBAAuB,aAApF,UACI,sBAAKuB,UAAU,gBAAf,UACI,4CAAc,oBAAGA,UAAU,UAAUY,QAZxB,SAAC1B,GAEtBA,EAAEgB,iBACF,IAAIiB,EAAYD,qBAAkC8H,EAAe1E,QACjEzE,OAAOC,SAASC,KAAKoB,GAQC,UAAmD6H,EAAe1E,QAAU0E,EAAe1E,UAAUT,EAAWpF,UAAW,gBACzI,mBAAG2E,MAAOpB,EAAmBgH,EAAe/G,WAA5C,SAAyDX,EAAe0H,EAAe/G,gBAE3F,6BAAK+G,EAAeC,eCX1BC,I,OAAe5K,YAAH,mPAWZuG,GAAYvG,YAAH,ybA4EA6K,GAvDS,WAIpB,MAAsC3K,mBAAS,IAA/C,mBAAO4K,EAAP,KAAoBC,EAApB,KAGA,EAAoC7K,mBAAS,IAA7C,mBAAO8K,EAAP,KAAmBC,EAAnB,KAMM5I,EAAOqE,cAAPrE,GACAkD,EAAa5C,qBAAWJ,GAExBoE,EAAY,CAAExG,SAASoF,EAAWpF,SAAS0F,IAAIxD,GAErD,EAAiCuE,YAASL,GAAW,CAEjDzE,UAAW6E,EAAW1F,YAAa,SAAAC,GAC/B6J,EAAe7J,EAAK2I,SAAS,GAAGqB,aAHhCrE,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,MAAO5F,EAAxB,EAAwBA,KAMxB,EAAsBF,YAAY4J,GAE9B,CAAE9I,UAAW,CAAC8D,QAAQvD,EAAG2D,QAAQT,EAAWpF,SAASwK,QAAQK,GAC7D/J,YAAa,SAAAkK,GACbJ,EAAe,CAACI,EAAYC,aAAd,oBAA8BN,QAJzCM,EAAP,oBAcA,OAAIvE,EAAgB,aAChBC,EAAa,UAAN,OAAiBA,EAAM4C,SAE9B,sBAAKhI,UAAU,uBAAf,UACI,cAAC,EAAD,CAAM2C,YAAanD,EAAK2I,SAAS,GAAIvF,kBAAkB,IAD3D,IAEI,uBAAM5C,UAAU,iBAAiBW,GAAG,iBAAiBV,SAZ9C,SAACf,GAEZA,EAAEgB,iBACFwJ,IACAH,EAAc,KAQV,UACI,uBAAOvJ,UAAU,oBAAoBK,QAAQ,aAA7C,0BACA,0BAAUkE,KAAK,iBAAiBC,KAAK,IAAIxE,UAAU,eAAeO,KAAK,aAAaC,YAAY,qBAAqBnB,MAAOiK,EAAY7I,SAAU,SAACvB,GAAD,OApCzI,SAACA,EAAGC,GAErBA,EAAMD,EAAEE,OAAOC,OAkCiJJ,CAAaC,EAAGqK,IAAgB7I,UAAQ,IAChM,yBAAQV,UAAU,SAASuE,KAAK,iBAAiBjE,KAAK,SAAtD,yBAA4E,cAAC,IAAD,UAEhF,sBAAKN,UAAU,oBAAf,UACKoJ,EAAYhB,KAAI,SAAAuB,GAAO,OAAI,cAAC,GAAD,CAAS3J,UAAU,UAAUgJ,eAAgBW,OAD7E,WC3DGC,OAxBf,WACE,OACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,8BACI,eAAC,IAAD,WACA,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAM,IAAnB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAM,UAAnB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAM,YAAb,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAM,YAAb,SACE,cAAC,GAAD,eCVNC,I,OAAWC,YAAe,CAC9BC,IAAK,iDAGDC,GAAQzK,aAAa0K,QAAQ,aAG7BC,GAAWC,aAAW,SAACC,EAAD,GAAqB,IAAfC,EAAc,EAAdA,QAChC,MAAO,CACLA,QAAQ,2BACHA,GADE,IAELC,cAAeN,GAAK,iBAAaA,IAAU,SAK7CO,GAAO,KAEPP,KAEJO,GAAO,CAAChM,SADYmB,IAAI8K,OAAOR,IACFzL,WAI7B,IAAMkM,GAAS,IAAIC,IAAa,CAC9BC,KAAMT,GAASU,OAAOf,IACtBgB,MAAO,IAAIC,MAGbC,IAASC,OACP,cAACC,EAAA,EAAD,CAAgBR,OAAQA,GAAxB,SACE,eAAC9J,EAAY4D,SAAb,CAAsBpF,MAAQoL,IAAW,KAAzC,cACA,eAAC,IAAD,WACCP,GAAQ,cAAC,GAAD,IAAU,cAAC,EAAD,IADnB,YAKFkB,SAASC,eAAe,W","file":"static/js/main.22a2828d.chunk.js","sourcesContent":["import { useState } from 'react'\r\nimport { gql, useMutation } from '@apollo/client';\r\n/* Query for log in and registration */\r\nconst ACCOUNT_POST = gql`\r\n    mutation postUser($username: String!, $password: String!, $email: String) {\r\n        postUser(username: $username, password:$password,email:$email) {\r\n            username\r\n            jwt\r\n        }\r\n    } \r\n`;\r\n\r\n\r\nconst AccountForm = () => {\r\n    // setting form inputs state\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [isRegister, setIsRegister] = useState(false);\r\n    const handleChange = (e, funct) => {\r\n        // handles changes in form inputs\r\n        funct(e.target.value)\r\n    }\r\n\r\n    const [postUser] = useMutation(ACCOUNT_POST, {onCompleted: data => {\r\n        // graphQL fx for log in and registration using the query above\r\n        localStorage.setItem('authToken',data.postUser.jwt)\r\n        window.location.href='/SaveClient/';\r\n    }});\r\n\r\n\r\n    const onSubmit = (e) => {\r\n        // On Submit we collect the data for sending via the postUser mutation above\r\n        e.preventDefault();\r\n        let formBody = {\"username\":username,\"password\":password};\r\n        if (isRegister) {\r\n            formBody.email = email;\r\n        }\r\n        postUser({ variables: formBody})\r\n    }\r\n    const registerSwap = (e) => {\r\n        e.preventDefault();\r\n        setIsRegister(!isRegister);\r\n    }\r\n\r\n    return (\r\n        <form className=\"accountForm\" onSubmit={onSubmit}>\r\n            <div className=\"accountForm\">\r\n                <h2>{isRegister?\"Register\":\"Login\"}:</h2>\r\n\r\n                <div className=\"formItem\">\r\n                    <label htmlFor=\"Username\">Username:</label>\r\n                    <input className=\"formInput\" type=\"username\" name=\"Username\" placeholder=\"Enter Username\" value={username} onChange={(e) =>handleChange(e, setUsername)} required/>\r\n                </div>\r\n\r\n                <div className=\"formItem\">\r\n                    <label htmlFor=\"Password\">Password:</label>\r\n                    <input className=\"formInput\" type=\"password\" name=\"Password\" placeholder=\"Enter Password\" value={password} onChange={(e) =>handleChange(e, setPassword)} required/>\r\n                </div>\r\n\r\n                {isRegister && <div className=\"formItem\"> \r\n                    <label htmlFor=\"Email\">Email:</label> \r\n                    <input className=\"formInput\" type=\"email\" id=\"Email\" name=\"Email\" placeholder=\"Enter Email\" value={email} onChange={(e) =>handleChange(e, setEmail)} required/>\r\n                </div>}\r\n\r\n                <input className=\"accFormBtn\" type=\"submit\" name={isRegister?\"Register\":\"Login\"} value={isRegister?\"Register\":\"Login\"}/>\r\n                <button className=\"registerLoginSwitch accFormBtn\" onClick={registerSwap}>{isRegister?\"Go to Login\":\"Go to Register\"}</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default AccountForm\r\n","import { createContext } from 'react';\r\nexport const UserContext = createContext(null);\r\n","import { UserContext } from \"../UserContext\";\r\nimport { useContext } from 'react';\r\nimport { FaTree, FaSave,FaUserTie } from \"react-icons/fa\";\r\nimport { IoLogOut } from \"react-icons/io5\";\r\nimport '../static/header.css'\r\nconst Header = () => {\r\n    // Header Component that is visable on all pages\r\n\r\n\r\n    const User = useContext(UserContext);  // calls user from token-generated context\r\n\r\n    const logOut = (e) => {\r\n        // log out function clears our token from local storage and sends us back to the top of the site, which without a token routes us to the landing\r\n        localStorage.removeItem('authToken');\r\n        window.location.href=process.env.PUBLIC_URL +'/'\r\n    }\r\n\r\n    const userProfileClick = (e) => {\r\n        // link to our personal profile on header click\r\n        e.preventDefault();\r\n        let hrefString =process.env.PUBLIC_URL +'#/user/'+User.username;\r\n        window.location.href=hrefString;\r\n    }\r\n    const homePageClick = (e) => {\r\n        // link to our homepage when clicking on the logo\r\n        e.preventDefault();\r\n        window.location.href=process.env.PUBLIC_URL +'/';\r\n    }\r\n    return (\r\n        <header>\r\n          <div className=\"holder titleHolder\" onClick={homePageClick}>\r\n              <div id=\"logoText\"><p id=\"h1LogoText\">SaveTree</p></div>\r\n              <div className=\"Icon\"><FaSave/></div>\r\n              <div className=\"Icon Tree\"><FaTree/></div>\r\n              <p>v: 1.0.3</p>\r\n          </div>\r\n          \r\n          {(User !==null) && <div className=\"holder userHolder\">\r\n              <div className=\"userProfileLink\" onClick={userProfileClick}>\r\n                <h2><FaUserTie/></h2>\r\n                <h3>{User.username}</h3>  \r\n              </div>\r\n              <h1 className=\"logOut\" onClick={logOut}><IoLogOut /></h1>\r\n            </div>}\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import AccountForm from './AccountForm'; \r\nimport Header from './Header';\r\nimport '../static/AccountForm.css'\r\n\r\n\r\nconst Landing = () => {\r\n    // component for the Log In and Registration Page\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"landingPage\">\r\n                <div className=\"saveDescription\">\r\n                    <h2>What is Save Tree?</h2>\r\n                    <p>SaveTree is a message-board site created by Daniel Wile.  The board is available to anyone, and anyone can create posts on the site after they sign up.</p>\r\n                    <p>Each post has a current site wide aggregate score of votes from other users. Posts are sorted based on highest score.</p>\r\n                </div>\r\n                <div className=\"landingPageForm\"><AccountForm/></div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Landing\r\n","/* Various Functions used throughout the app for different functionalities.*/\r\n\r\nconst ParseUsernametoInt = (username) => {\r\n    /* We want to create Ints for usernames that are consitent numerical values.\r\n    They are used solely for giving each user a consistent photo ID color*/\r\n    const LETTERTABLE = {a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,i:9,j:10,k:11,l:12,m:13,n:14,o:15,p:16,q:17,r:18,s:19,t:20,u:21,v:22,w:23,x:24,y:25,z:26,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,0:0};\r\n    username = username.toLowerCase();\r\n    let sum = 0;\r\n    for (let i = 0; i < username.length; i++) {\r\n        if (LETTERTABLE[username.charAt(i)]){\r\n            sum += LETTERTABLE[username.charAt(i)];\r\n        }\r\n    }\r\n    return sum;\r\n}\r\n\r\nconst UserPhotoSelect = (intNum) => {\r\n    // User Photo Selection, takes the int from ParseUsernameToInt and returns an index corresponding to their user photo.\r\n    console.log(intNum)\r\n    let numMod = intNum % 5;\r\n    console.log(numMod)\r\n    return numMod;\r\n}\r\n\r\nconst timeCalculator = (timeCreated) => {\r\n    /*Translating our time value into something viewer readable*/\r\n    let timeDelta = Date.now() - timeCreated;\r\n    const ONE_DAY_IN_THOUSANDTHS_SECOND = 24 * 60 * 60 * 1000; // 1 day in 1000s of a second (The format date is given in)\r\n    const ONE_HOUR_IN_THOUSANDTHS_SECOND = 60 * 60 * 1000; // 1 hour in 1000s of a second (The format date is given in)\r\n    if (timeDelta >= ONE_DAY_IN_THOUSANDTHS_SECOND) {\r\n        let roundedTimeDelta = Math.floor(timeDelta / ONE_DAY_IN_THOUSANDTHS_SECOND)\r\n        if (roundedTimeDelta == 1){\r\n            return `${roundedTimeDelta} day ago`\r\n        } else {\r\n            return `${roundedTimeDelta} days ago`\r\n        }\r\n    }\r\n    else if (timeDelta <= ONE_HOUR_IN_THOUSANDTHS_SECOND) { \r\n        return \"<1 Hour Ago\"\r\n    }\r\n    else {\r\n        let roundedTimeDelta = Math.floor(timeDelta / ONE_HOUR_IN_THOUSANDTHS_SECOND)\r\n        if (roundedTimeDelta == 1){\r\n            return `${roundedTimeDelta} hour ago`\r\n        } else {\r\n            return `${roundedTimeDelta} hours ago`\r\n        }\r\n    }\r\n}\r\n\r\nconst longDateTimeString = (createdAt) => {\r\n    /* This function gives long date strings for when hovering the X time ago element*/\r\n    let dateCreatedAt = new Date(parseInt(createdAt));\r\n    const options = { timeZone:\"America/New_York\", dateStyle:\"full\",timeStyle:\"long\" };\r\n    return dateCreatedAt.toLocaleString('en-US', options);\r\n}\r\n\r\nexport { timeCalculator, ParseUsernametoInt, UserPhotoSelect, longDateTimeString };","import { BiMessageDetail, BiEdit, BiTrash} from \"react-icons/bi\";\r\nimport { FaArrowDown, FaArrowUp } from \"react-icons/fa\";\r\nimport { useState, useContext } from 'react';\r\nimport { gql, useMutation } from '@apollo/client';\r\nimport { UserContext } from \"../UserContext\";\r\nimport { IconContext } from \"react-icons\";\r\n// local imports\r\nimport { timeCalculator, longDateTimeString } from \"../utils\";\r\nimport '../static/Post.css'\r\n\r\n// graphQL query/mutation for sending votes\r\nconst VOTE_PUT = gql`\r\n    mutation putVote($username: String!, $post_id: String!, $vote: Int!) {\r\n        putVote(username: $username, post_id:$post_id, vote:$vote) {\r\n            vote\r\n        }\r\n    } \r\n`;\r\nconst POST_DELETE = gql`\r\n    mutation deletePost($post_id: String!) {\r\n        deletePost(_id: $post_id) {\r\n            response\r\n        }\r\n    }\r\n`;\r\nconst PUT_POST = gql`\r\n    mutation putPost($title: String!, $description: String!, $post_id: String!) {\r\n        putPost(title: $title, description: $description,_id:$post_id) {\r\n         _id\r\n        }\r\n    }\r\n`;\r\n\r\nconst Post = ({postDetails, isCommentSection}) => {\r\n    // component for individual posts, both at the top of their comments section and on post query pages\r\n\r\n    // setting vote states\r\n    const [voteValue, setVoteValue] = useState(postDetails.userVote.vote);\r\n    const [voteSum, setVoteSum] = useState(postDetails.voteSum-postDetails.userVote.vote);\r\n\r\n    // sets Edit Mode\r\n    const [isEditMode, setIsEditMode] = useState(false);\r\n\r\n    // sets edit inputs state\r\n    const [editTitle, setEditTitle] = useState(postDetails.title);\r\n    const [editDescr, setEditDescr] = useState(postDetails.description);\r\n\r\n    // this is the current title and description from the server They only change when edits are submitted.\r\n    const [title, setTitle] = useState(postDetails.title);\r\n    const [descr, setDescr] = useState(postDetails.description);\r\n\r\n    const handleChange = (e, funct) => { // handles changes in form inputs\r\n        funct(e.target.value)\r\n    }\r\n\r\n    //logged in user is needed for applying their votes to the right person\r\n    const viewerUser = useContext(UserContext);\r\n\r\n    const [putVote] = useMutation(VOTE_PUT); // fx to send the vote mutation in the upvote and downvote fxs\r\n\r\n    const [putPost] = useMutation(PUT_POST);  // fx to send edits to the backend.\r\n\r\n    const [deletePost] = useMutation(POST_DELETE, {onCompleted: data => { // fx to send delete mutation\r\n        window.location.href='#';\r\n    }});\r\n\r\n    const upvoteFunc = (e) => {\r\n            //sends an upvote to the server from the logged in user on click\r\n            if(voteValue != 1){\r\n            setVoteValue(1);\r\n            putVote({ variables: {username:viewerUser.username,post_id:postDetails._id,vote:1}});\r\n            } else if(voteValue == 1){\r\n                setVoteValue(0);\r\n                putVote({ variables: {username:viewerUser.username,post_id:postDetails._id,vote:0}});\r\n            }\r\n    }\r\n    const downvoteFunc = (e) => {\r\n            //sends a downvote to the server from the logged in user on click\r\n            if(voteValue != -1) {\r\n                setVoteValue(-1);\r\n                putVote({ variables: {username:viewerUser.username,post_id:postDetails._id,vote:-1}});\r\n            } else if(voteValue == -1) {\r\n                setVoteValue(0);\r\n                putVote({ variables: {username:viewerUser.username,post_id:postDetails._id,vote:0}});\r\n                e.target.checked=(false)\r\n            }\r\n    }\r\n    const handleDelete = (e) => {\r\n        // manages clicking the delete btn\r\n        if(window.confirm(\"Are you sure you'd like to delete this post?\")){\r\n            deletePost({ variables: {post_id:postDetails._id}});\r\n            window.location.href='/SaveClient/';\r\n        }\r\n    }\r\n    const handleEdits = (e) => {\r\n        putPost({ variables: {post_id:postDetails._id,title:editTitle,description:editDescr}});\r\n        setIsEditMode(false);\r\n        setTitle(editTitle);\r\n        setDescr(editDescr);\r\n    }\r\n    const userProfileClick = (e) => {\r\n        // link to user profile at the username in the post header\r\n        e.preventDefault();\r\n        let hrefString =process.env.PUBLIC_URL +'#/user/'+postDetails.creator;\r\n        window.location.href=hrefString;\r\n    }\r\n\r\n    const postCommentClick = (e) => {\r\n        // link to the post's comment section.\r\n        e.preventDefault();\r\n        let hrefString =process.env.PUBLIC_URL+'#/post/'+postDetails._id;\r\n        window.location.href=hrefString;\r\n    }\r\n    return (\r\n        <div className=\"postDiv\">\r\n            <div className=\"votesDiv\">\r\n                <label className=\"labelVote\">\r\n                    <input type=\"radio\" className=\"voteRadio voteRadioUp\" name=\"vote\" value={voteValue} checked={(voteValue == 1)} onClick={upvoteFunc}/>\r\n                    <h2 className={(voteValue === 1)  ? \"colorUpVote\": undefined}><FaArrowUp/></h2>\r\n                </label>\r\n                <h3>{voteSum + voteValue}</h3> {/*Rather than callback the current votesum and have confusing vote total changes (If other users voted simultaneously, we adjust the total locally*/}\r\n                <label class=\"labelVote\">\r\n                    <input type=\"radio\" className=\"voteRadio\" name=\"vote\" value={voteValue} checked={(voteValue == -1)} onClick={downvoteFunc}/>\r\n                    <h2 className={(voteValue === -1) ? \"colorDownVote\": undefined}><FaArrowDown/></h2>\r\n                </label>\r\n            </div>\r\n            <div className=\"postContent\">\r\n                <div className=\"postHeaderandTitle\">\r\n                    <div className=\"postHeader\">\r\n                        <p>Created by <a className=\"pointer\" onClick={userProfileClick}>{postDetails.creator}</a></p>\r\n                        <p title={longDateTimeString(postDetails.createdAt)}>{timeCalculator(postDetails.createdAt)}</p>\r\n                    </div>\r\n                    {(isEditMode) ?\r\n                        <input value={editTitle} className=\"editTitle postTitle\" onChange={(e) =>handleChange(e, setEditTitle)} required/> : <h2 className=\"postTitle\">{title}</h2>\r\n                    }\r\n                    {(isCommentSection)&&<> {/*If we are in the comment section we hide the comment section link and insert the description */}\r\n                        {(isEditMode) ? <textarea form=\"newIssueForm\" rows=\"6\" className=\"descriptionInput postInput\" value={editDescr} onChange={(e) =>handleChange(e, setEditDescr)} required/> :\r\n                        <p className=\"postDescription\">{descr}</p>\r\n                        }</>\r\n                    } \r\n\r\n                </div>\r\n                <div className=\"postFooter\">\r\n                    {(!isCommentSection)&& /* If we are not in the comment section we display the link to the comment section*/\r\n                        <h3 className=\"postComment\" onClick={postCommentClick}>\r\n                            <IconContext.Provider value={{ style: { verticalAlign: 'middle'} }}>\r\n                                <BiMessageDetail/>\r\n                            </IconContext.Provider>\r\n                            Comments\r\n                        </h3>}\r\n                    {(viewerUser.username==postDetails.creator || viewerUser.username=='admin') &&<div className=\"editDeleteHolder\">\r\n                        {(isCommentSection) &&\r\n                            <div className=\"editBtn\" onClick={(e) => setIsEditMode((!isEditMode))}>\r\n                                {(isEditMode) ?  <h5 className=\"editIcon\">Cancel Edits</h5> : <BiEdit className=\"editIcon\"/>}\r\n                            </div>\r\n                            }\r\n                        <div className=\"deleteBtn\" onClick={handleDelete}><BiTrash className=\"trashIcon\"/></div>\r\n                    </div>}\r\n                    {(isEditMode) && <div className=\"editBtn\" onClick={handleEdits}><h3>Submit Edits</h3></div>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post\r\n","export default __webpack_public_path__ + \"static/media/userPhoto0.4f22e5ba.svg\";","export default __webpack_public_path__ + \"static/media/userPhoto1.4c3a4164.svg\";","export default __webpack_public_path__ + \"static/media/userPhoto2.fb3ff68b.svg\";","export default __webpack_public_path__ + \"static/media/userPhoto3.5a0a1e74.svg\";","export default __webpack_public_path__ + \"static/media/userPhoto4.960cb3ff.svg\";","import { FaPaperPlane,FaUserTie } from 'react-icons/fa'\r\nimport { gql, useQuery } from '@apollo/client';\r\nimport { BrowserRouter as Router, useParams} from 'react-router-dom';\r\nimport { useContext } from 'react';\r\n// local imports\r\nimport { UserContext } from \"../UserContext\";\r\nimport '../static/PostsList.css'\r\nimport Post from './Post'\r\nimport { UserPhotoSelect, ParseUsernametoInt } from '../utils';\r\n\r\n// importing the 5 different user photos. Each user is assigned a consistent photo based on an algorithm to turn usernames into a number 0-4. See More in Utils\r\nimport userPhoto0 from '../static/userPhotos/userPhoto0.svg'\r\nimport userPhoto1 from '../static/userPhotos/userPhoto1.svg'\r\nimport userPhoto2 from '../static/userPhotos/userPhoto2.svg'\r\nimport userPhoto3 from '../static/userPhotos/userPhoto3.svg'\r\nimport userPhoto4 from '../static/userPhotos/userPhoto4.svg'\r\n\r\n// Query gets all posts, if on a user page, it gets all posts by said user. Also Returns viewer's vote history on each post.\r\nconst GET_POSTS = gql`\r\n    query getPosts($username:String!,$creator:String) {\r\n        getPosts(creator:$creator) {\r\n            _id\r\n            title\r\n            description\r\n            creator\r\n            createdAt\r\n            voteSum\r\n            userVote(username:$username) {\r\n                vote\r\n            }\r\n        }\r\n    }\r\n`;\r\nconst PostsList = (props) => {\r\n    \r\n    // Query Prep // id is for user specific pages\r\n    let { id } = useParams();\r\n    const viewerUser = useContext(UserContext);\r\n    const reqParams = { username:viewerUser.username };\r\n    if (id) {\r\n        reqParams.creator = id; // check if the page has a user id, if yes adds to query.\r\n    }\r\n\r\n    const { loading, error, data } = useQuery(GET_POSTS, {\r\n        variables: reqParams,\r\n      });\r\n    // functions for the page.\r\n    const createPostClick = (e) => {\r\n        e.preventDefault();\r\n        window.location.href=process.env.PUBLIC_URL + '#/create'\r\n    }\r\n    // finding UserPhoto\r\n    let userPhotoIndex = 0;\r\n    if (id) {\r\n        userPhotoIndex = UserPhotoSelect(ParseUsernametoInt(id))\r\n    };\r\n    const photoArray = [userPhoto0,userPhoto1,userPhoto2,userPhoto3,userPhoto4]\r\n    if (loading) return 'Loading...';\r\n    if (error) return `Error! ${error.message}`;\r\n    return (\r\n        \r\n        <div className={(id)&&\"userContainer\"}>\r\n            <div className=\"postList\">\r\n                {(id) && <div className=\"postListHeader userProfileHeader\">\r\n                    <FaUserTie className=\"createIcon\" />\r\n                    <h4>{id}'s Profile</h4>\r\n                </div>}\r\n                {(!id) && <div className=\"postListHeader\">\r\n                    <FaUserTie className=\"createIcon\" />\r\n                    <input className=\"createPostInput\" type=\"text\" placeHolder={\"Create New Post\"} onFocus={createPostClick}/>\r\n                    <FaPaperPlane className=\"createIcon\"/>\r\n                </div>}\r\n                {data.getPosts.map(post =>(<Post postDetails={post}/>))}\r\n            </div>\r\n            {(id) && <div className=\"userTile\">\r\n              <img src={photoArray[userPhotoIndex]} alt=\"Stock User Image lady waters flowers\" className=\"userPhoto\" width=\"300\" height=\"300\"/>\r\n              <h2>{id}'s Profile</h2>\r\n                \r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostsList\r\n","import { useState } from 'react'\r\nimport { gql, useMutation } from '@apollo/client';\r\nimport { UserContext } from \"../UserContext\";\r\nimport { useContext } from 'react';\r\nimport { FaPaperPlane } from 'react-icons/fa'\r\n\r\nimport '../static/CreatePost.css'\r\n\r\n// GraphQL mutation for sending a new post.\r\nconst POST_POST = gql`\r\n    mutation postPost($title: String!, $description: String!, $creator: String!) {\r\n        postPost(title: $title, description: $description,creator:$creator) {\r\n         _id\r\n        }\r\n    }\r\n`;\r\n\r\nconst CreatePost = () => {\r\n    // Create Post form page component\r\n\r\n    // setting up form states and calling the user for sending in the query/mutation\r\n    const [title, setTitle] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const creatorUser = useContext(UserContext);\r\n\r\n    const handleChange = (e, funct) => { // handles changes in form inputs\r\n        funct(e.target.value)\r\n    }\r\n\r\n    const [postPost] = useMutation(POST_POST, {onCompleted: data => {\r\n        // Graph QL Function for sending new posts in\r\n        let hrefString = process.env.PUBLIC_URL +'#/post/' + data.postPost._id // link string to new posts url \r\n        window.location.href=hrefString;\r\n    }});\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        let formBody = {\"title\":title,\"description\":description,\"creator\":creatorUser.username};\r\n        postPost({ variables: formBody}) // no need to clear state because we leave the page at the end of this request\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <form className=\"form\" id=\"newIssueForm\" onSubmit={onSubmit}>\r\n                <div className=\"createDiv\">\r\n                        <h2 id=\"formTitle\">Create Issue:</h2>\r\n                        <label className=\"screenHiddenLabel\" htmlFor=\"postTitle\">Title*</label>\r\n                        <input type=\"text\" name=\"postTitle\" className=\"postTitle postInput\" placeholder=\"Enter Issue Title\" value={title} onChange={(e) =>handleChange(e, setTitle)} required/>\r\n                        <label className=\"screenHiddenLabel\" htmlFor=\"issueDescription\">Description*</label>\r\n                        <textarea form=\"newIssueForm\" rows=\"6\" className=\"descriptionInput postInput\" name=\"issueDescription\" placeholder=\"Enter Issue Description\" value={description} onChange={(e) =>handleChange(e, setDescription)} required/>\r\n                    <button className=\"submit\" form=\"newIssueForm\" type=\"submit\" >Create Issue <FaPaperPlane/></button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePost\r\n\r\n","import { UserContext } from \"../UserContext\";\r\nimport { useContext } from 'react';\r\nimport '../static/Comment.css'\r\nimport { timeCalculator,longDateTimeString } from \"../utils\";\r\n\r\nconst Comment = ({commentDetails}) => {\r\n\r\n    const userProfileClick = (e) => {\r\n        // links to the user profile when clicking on posting user's name\r\n        e.preventDefault();\r\n        let hrefString =process.env.PUBLIC_URL +'#/user/'+commentDetails.creator;\r\n        window.location.href=hrefString;\r\n    }\r\n\r\n    const viewerUser = useContext(UserContext); // storing the logged in viewer from context\r\n\r\n    return (\r\n        <div className={commentDetails.creator===viewerUser.username?\"commentDiv opComment\":\"commentDiv\"}>\r\n            <div className=\"commentHeader\">\r\n                <p>Created By <a className=\"pointer\" onClick={userProfileClick}>{commentDetails.creator}{(commentDetails.creator===viewerUser.username)&&\" (you!)\"}</a></p>\r\n                <p title={longDateTimeString(commentDetails.createdAt)}>{timeCalculator(commentDetails.createdAt)}</p>\r\n            </div>\r\n            <h3>{commentDetails.content}</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comment\r\n","import { gql, useQuery, useMutation } from '@apollo/client';\r\nimport { BrowserRouter as Router, useParams } from 'react-router-dom';\r\nimport { UserContext } from \"../UserContext\";\r\nimport { useContext,useState } from 'react';\r\nimport { FaPaperPlane } from 'react-icons/fa';\r\n// local imports\r\nimport Post from './Post';\r\nimport Comment from './Comment';\r\nimport '../static/PostAndComments.css'\r\n\r\n// GraphQL mutation string for adding new comments\r\nconst POST_COMMENT = gql`\r\n    mutation postComment($post_id:String!,$creator:String!,$content:String!) {\r\n    postComment(post_id:$post_id,creator:$creator,content:$content) {\r\n        createdAt\r\n        content\r\n        creator\r\n    }\r\n}\r\n`;\r\n\r\n// GraphQL mutation string getting the post and it's comments.\r\nconst GET_POSTS = gql`\r\n    query getPosts($username:String!,$_id:ID!) {\r\n        getPosts(_id:$_id) {\r\n            _id\r\n            title\r\n            description\r\n            creator\r\n            createdAt\r\n            voteSum\r\n            comments {\r\n              content\r\n              creator\r\n              createdAt\r\n            }\r\n            userVote(username:$username) {\r\n              vote\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst PostAndComments = () => {\r\n    // component for the comment section page of an individual post\r\n\r\n    // putting the comment list in state so that an added comment refreshes state and loads our new comment\r\n    const [commentList, setCommentList] = useState([]);\r\n\r\n    // setting up form state\r\n    const [newComment, setNewComment] = useState(\"\");\r\n\r\n    const handleChange = (e, funct) => {\r\n        // handles form changes\r\n        funct(e.target.value)\r\n    }\r\n    let { id } = useParams(); // gets post id from link header\r\n    const viewerUser = useContext(UserContext); // gets logged in user to access person vote on the post\r\n\r\n    const reqParams = { username:viewerUser.username,_id:id }; // preparing our getPost request params\r\n\r\n    const { loading, error, data } = useQuery(GET_POSTS, {\r\n        //getPost Request using the query above\r\n        variables: reqParams, onCompleted: data => {\r\n            setCommentList(data.getPosts[0].comments) // sets state when the request is completed\r\n        }});\r\n    \r\n    const [postComment] = useMutation(POST_COMMENT, \r\n        // mutation function to send our new comment request\r\n        { variables: {post_id:id,creator:viewerUser.username,content:newComment}, \r\n        onCompleted: commentData => {\r\n        setCommentList([commentData.postComment, ...commentList]); // Adds our new comment to the top of the comment list.\r\n    }});\r\n\r\n    const submit = (e) => {\r\n        // newComment form submit action\r\n        e.preventDefault();\r\n        postComment();\r\n        setNewComment(\"\");\r\n    }\r\n\r\n    if (loading) return 'Loading...';\r\n    if (error) return `Error! ${error.message}`;\r\n    return (\r\n        <div className=\"commentPageContainer\">\r\n            <Post postDetails={data.getPosts[0]} isCommentSection={true}/> {/*Loading our original post*/}\r\n            <form className=\"newCommentForm\" id=\"newCommentForm\" onSubmit={submit}>\r\n                <label className=\"screenHiddenLabel\" htmlFor=\"newComment\">Description*</label>\r\n                <textarea form=\"newCommentForm\" rows=\"6\" className=\"commentInput\" name=\"newComment\" placeholder=\"Create New Comment\" value={newComment} onChange={(e) =>handleChange(e, setNewComment)} required/>\r\n                <button className=\"submit\" form=\"newCommentForm\" type=\"submit\" >Post Comment<FaPaperPlane/></button>\r\n            </form>\r\n            <div className=\"commentsContainer\">\r\n                {commentList.map(comment =>(<Comment className=\"comment\" commentDetails={comment}/>))} {/*Listing off our comments in the comments container*/}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostAndComments","import React from \"react\";\r\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\r\n// local imports\r\nimport Header from './components/Header';\r\nimport PostsList from './components/PostsList';\r\nimport CreatePost from './components/CreatePost';\r\nimport PostAndComments from \"./components/PostAndComments\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Header />\r\n      <div>\r\n          <Switch>\r\n          <Route exact path={'/'}>\r\n            <PostsList />\r\n          </Route>\r\n          <Route exact path={'/create'}>\r\n            <CreatePost />\r\n          </Route>\r\n          <Route path={'/user/:id'}>\r\n            <PostsList />\r\n          </Route>\r\n          <Route path={'/post/:id'}>\r\n            <PostAndComments/>\r\n          </Route>\r\n          </Switch>\r\n      </div>\r\n      </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// dependency imports\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { ApolloProvider, ApolloClient, InMemoryCache, createHttpLink} from '@apollo/client';\r\nimport { setContext } from '@apollo/client/link/context';\r\nimport jwt from 'jsonwebtoken';\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\n// local imports\r\nimport Landing from './components/Landing';\r\nimport App from './App';\r\nimport './index.css';\r\nimport { UserContext } from \"./UserContext\";\r\n\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: 'https://save-tree.herokuapp.com/api/graphql',\r\n});\r\n\r\nconst token = localStorage.getItem('authToken');\r\n\r\n// fx to set our token in the header.\r\nconst authLink = setContext((_, { headers }) => {\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : \"\",\r\n    }\r\n  }\r\n});\r\n\r\nlet user = null; // setting user as null.\r\n\r\nif (token) { // updating user to match token if a token exists\r\nconst tokenDecode = jwt.decode(token)\r\nuser = {username:tokenDecode.username};\r\n}\r\n\r\n\r\nconst client = new ApolloClient({ // Starting Apollo Client with Auth token in header and cached memory.\r\n  link: authLink.concat(httpLink),\r\n  cache: new InMemoryCache()\r\n});\r\n\r\nReactDOM.render(\r\n  <ApolloProvider client={client}>\r\n    <UserContext.Provider value={(user)?user:null}> {/* If a user was found on the token it is applied to the userContext here for children to access*/}\r\n    <Router>\r\n    {token ? <App /> : <Landing/>} {/*If A token was found it goes to the front page, otherwise, we send visitors to the log in / register page*/}\r\n    </Router>\r\n    </UserContext.Provider>\r\n  </ApolloProvider>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}